/*!
* MediaElement.js
* HTML5 <video> and <audio> shim and player
* http://mediaelementjs.com/
*
* Creates a JavaScript object that mimics HTML5 MediaElement API
* for browsers that don't understand HTML5 or can't play the provided codec
* Can play MP4 (H.264), Ogg, WebM, FLV, WMV, WMA, ACC, and MP3
*
* Copyright 2010-2013, John Dyer (http://j.hn)
* License: MIT
*
*/
/*!
 * MediaElementPlayer
 * http://mediaelementjs.com/
 *
 * Creates a controller bar for HTML5 <video> add <audio> tags
 * using jQuery and MediaElement.js (HTML5 Flash/Silverlight wrapper)
 *
 * Copyright 2010-2013, John Dyer (http://j.hn/)
 * License: MIT
 *
 */
function onYouTubePlayerAPIReady(){mejs.YouTubeApi.iFrameReady()}function onYouTubePlayerReady(id){mejs.YouTubeApi.flashReady(id)}var mejs=mejs||{};mejs.version="2.13.1",mejs.meIndex=0,mejs.plugins={silverlight:[{version:[3,0],types:["video/mp4","video/m4v","video/mov","video/wmv","audio/wma","audio/m4a","audio/mp3","audio/wav","audio/mpeg"]}],flash:[{version:[9,0,124],types:["video/mp4","video/m4v","video/mov","video/flv","video/rtmp","video/x-flv","audio/flv","audio/x-flv","audio/mp3","audio/m4a","audio/mpeg","video/youtube","video/x-youtube"]}],youtube:[{version:null,types:["video/youtube","video/x-youtube","audio/youtube","audio/x-youtube"]}],vimeo:[{version:null,types:["video/vimeo","video/x-vimeo"]}]},mejs.Utility={encodeUrl:function(url){return encodeURIComponent(url)},escapeHTML:function(s){return s.toString().split("&").join("&amp;").split("<").join("&lt;").split('"').join("&quot;")},absolutizeUrl:function(url){var el=document.createElement("div");return el.innerHTML='<a href="'+this.escapeHTML(url)+'">x</a>',el.firstChild.href},getScriptPath:function(scriptNames){for(var j,slashPos,filenamePos,scriptUrl,scriptPath,scriptFilename,i=0,codePath="",testname="",scripts=document.getElementsByTagName("script"),il=scripts.length,jl=scriptNames.length;il>i;i++){for(scriptUrl=scripts[i].src,slashPos=scriptUrl.lastIndexOf("/"),slashPos>-1?(scriptFilename=scriptUrl.substring(slashPos+1),scriptPath=scriptUrl.substring(0,slashPos+1)):(scriptFilename=scriptUrl,scriptPath=""),j=0;jl>j;j++)if(testname=scriptNames[j],filenamePos=scriptFilename.indexOf(testname),filenamePos>-1){codePath=scriptPath;break}if(""!==codePath)break}return codePath},secondsToTimeCode:function(time,forceHours,showFrameCount,fps){"undefined"==typeof showFrameCount?showFrameCount=!1:"undefined"==typeof fps&&(fps=25);var hours=Math.floor(time/3600)%24,minutes=Math.floor(time/60)%60,seconds=Math.floor(time%60),frames=Math.floor((time%1*fps).toFixed(3)),result=(forceHours||hours>0?(10>hours?"0"+hours:hours)+":":"")+(10>minutes?"0"+minutes:minutes)+":"+(10>seconds?"0"+seconds:seconds)+(showFrameCount?":"+(10>frames?"0"+frames:frames):"");return result},timeCodeToSeconds:function(hh_mm_ss_ff,forceHours,showFrameCount,fps){"undefined"==typeof showFrameCount?showFrameCount=!1:"undefined"==typeof fps&&(fps=25);var tc_array=hh_mm_ss_ff.split(":"),tc_hh=parseInt(tc_array[0],10),tc_mm=parseInt(tc_array[1],10),tc_ss=parseInt(tc_array[2],10),tc_ff=0,tc_in_seconds=0;return showFrameCount&&(tc_ff=parseInt(tc_array[3])/fps),tc_in_seconds=3600*tc_hh+60*tc_mm+tc_ss+tc_ff},convertSMPTEtoSeconds:function(SMPTE){if("string"!=typeof SMPTE)return!1;SMPTE=SMPTE.replace(",",".");var secs=0,decimalLen=-1!=SMPTE.indexOf(".")?SMPTE.split(".")[1].length:0,multiplier=1;SMPTE=SMPTE.split(":").reverse();for(var i=0;i<SMPTE.length;i++)multiplier=1,i>0&&(multiplier=Math.pow(60,i)),secs+=Number(SMPTE[i])*multiplier;return Number(secs.toFixed(decimalLen))},removeSwf:function(id){var obj=document.getElementById(id);obj&&/object|embed/i.test(obj.nodeName)&&(mejs.MediaFeatures.isIE?(obj.style.display="none",function(){4==obj.readyState?mejs.Utility.removeObjectInIE(id):setTimeout(arguments.callee,10)}()):obj.parentNode.removeChild(obj))},removeObjectInIE:function(id){var obj=document.getElementById(id);if(obj){for(var i in obj)"function"==typeof obj[i]&&(obj[i]=null);obj.parentNode.removeChild(obj)}}},mejs.PluginDetector={hasPluginVersion:function(plugin,v){var pv=this.plugins[plugin];return v[1]=v[1]||0,v[2]=v[2]||0,pv[0]>v[0]||pv[0]==v[0]&&pv[1]>v[1]||pv[0]==v[0]&&pv[1]==v[1]&&pv[2]>=v[2]?!0:!1},nav:window.navigator,ua:window.navigator.userAgent.toLowerCase(),plugins:[],addPlugin:function(p,pluginName,mimeType,activeX,axDetect){this.plugins[p]=this.detectPlugin(pluginName,mimeType,activeX,axDetect)},detectPlugin:function(pluginName,mimeType,activeX,axDetect){var description,i,ax,version=[0,0,0];if("undefined"!=typeof this.nav.plugins&&"object"==typeof this.nav.plugins[pluginName]){if(description=this.nav.plugins[pluginName].description,description&&("undefined"==typeof this.nav.mimeTypes||!this.nav.mimeTypes[mimeType]||this.nav.mimeTypes[mimeType].enabledPlugin))for(version=description.replace(pluginName,"").replace(/^\s+/,"").replace(/\sr/gi,".").split("."),i=0;i<version.length;i++)version[i]=parseInt(version[i].match(/\d+/),10)}else if("undefined"!=typeof window.ActiveXObject)try{ax=new ActiveXObject(activeX),ax&&(version=axDetect(ax))}catch(e){}return version}},mejs.PluginDetector.addPlugin("flash","Shockwave Flash","application/x-shockwave-flash","ShockwaveFlash.ShockwaveFlash",function(ax){var version=[],d=ax.GetVariable("$version");return d&&(d=d.split(" ")[1].split(","),version=[parseInt(d[0],10),parseInt(d[1],10),parseInt(d[2],10)]),version}),mejs.PluginDetector.addPlugin("silverlight","Silverlight Plug-In","application/x-silverlight-2","AgControl.AgControl",function(ax){var v=[0,0,0,0],loopMatch=function(ax,v,i,n){for(;ax.isVersionSupported(v[0]+"."+v[1]+"."+v[2]+"."+v[3]);)v[i]+=n;v[i]-=n};return loopMatch(ax,v,0,1),loopMatch(ax,v,1,1),loopMatch(ax,v,2,1e4),loopMatch(ax,v,2,1e3),loopMatch(ax,v,2,100),loopMatch(ax,v,2,10),loopMatch(ax,v,2,1),loopMatch(ax,v,3,1),v}),mejs.MediaFeatures={init:function(){var i,v,t=this,d=document,nav=mejs.PluginDetector.nav,ua=mejs.PluginDetector.ua.toLowerCase(),html5Elements=["source","track","audio","video"];t.isiPad=null!==ua.match(/ipad/i),t.isiPhone=null!==ua.match(/iphone/i),t.isiOS=t.isiPhone||t.isiPad,t.isAndroid=null!==ua.match(/android/i),t.isBustedAndroid=null!==ua.match(/android 2\.[12]/),t.isBustedNativeHTTPS="https:"===location.protocol&&(null!==ua.match(/android [12]\./)||null!==ua.match(/macintosh.* version.* safari/)),t.isIE=null!==nav.appName.match(/microsoft/gi)||null!==ua.match(/trident/gi),t.isChrome=null!==ua.match(/chrome/gi),t.isFirefox=null!==ua.match(/firefox/gi),t.isWebkit=null!==ua.match(/webkit/gi),t.isGecko=null!==ua.match(/gecko/gi)&&!t.isWebkit&&!t.isIE,t.isOpera=null!==ua.match(/opera/gi),t.hasTouch="ontouchstart"in window,t.svg=!!document.createElementNS&&!!document.createElementNS("http://www.w3.org/2000/svg","svg").createSVGRect;for(i=0;i<html5Elements.length;i++)v=document.createElement(html5Elements[i]);t.supportsMediaTag="undefined"!=typeof v.canPlayType||t.isBustedAndroid;try{v.canPlayType("video/mp4")}catch(e){t.supportsMediaTag=!1}t.hasSemiNativeFullScreen="undefined"!=typeof v.webkitEnterFullscreen,t.hasNativeFullscreen="undefined"!=typeof v.requestFullscreen,t.hasWebkitNativeFullScreen="undefined"!=typeof v.webkitRequestFullScreen,t.hasMozNativeFullScreen="undefined"!=typeof v.mozRequestFullScreen,t.hasMsNativeFullScreen="undefined"!=typeof v.msRequestFullscreen,t.hasTrueNativeFullScreen=t.hasWebkitNativeFullScreen||t.hasMozNativeFullScreen||t.hasMsNativeFullScreen,t.nativeFullScreenEnabled=t.hasTrueNativeFullScreen,t.hasMozNativeFullScreen?t.nativeFullScreenEnabled=document.mozFullScreenEnabled:t.hasMsNativeFullScreen&&(t.nativeFullScreenEnabled=document.msFullscreenEnabled),t.isChrome&&(t.hasSemiNativeFullScreen=!1),t.hasTrueNativeFullScreen&&(t.fullScreenEventName="",t.hasWebkitNativeFullScreen?t.fullScreenEventName="webkitfullscreenchange":t.hasMozNativeFullScreen?t.fullScreenEventName="mozfullscreenchange":t.hasMsNativeFullScreen&&(t.fullScreenEventName="MSFullscreenChange"),t.isFullScreen=function(){return v.mozRequestFullScreen?d.mozFullScreen:v.webkitRequestFullScreen?d.webkitIsFullScreen:v.hasMsNativeFullScreen?null!==d.msFullscreenElement:void 0},t.requestFullScreen=function(el){t.hasWebkitNativeFullScreen?el.webkitRequestFullScreen():t.hasMozNativeFullScreen?el.mozRequestFullScreen():t.hasMsNativeFullScreen&&el.msRequestFullscreen()},t.cancelFullScreen=function(){t.hasWebkitNativeFullScreen?document.webkitCancelFullScreen():t.hasMozNativeFullScreen?document.mozCancelFullScreen():t.hasMsNativeFullScreen&&document.msExitFullscreen()}),t.hasSemiNativeFullScreen&&ua.match(/mac os x 10_5/i)&&(t.hasNativeFullScreen=!1,t.hasSemiNativeFullScreen=!1)}},mejs.MediaFeatures.init(),mejs.HtmlMediaElement={pluginType:"native",isFullScreen:!1,setCurrentTime:function(time){this.currentTime=time},setMuted:function(muted){this.muted=muted},setVolume:function(volume){this.volume=volume},stop:function(){this.pause()},setSrc:function(url){for(var existingSources=this.getElementsByTagName("source");existingSources.length>0;)this.removeChild(existingSources[0]);if("string"==typeof url)this.src=url;else{var i,media;for(i=0;i<url.length;i++)if(media=url[i],this.canPlayType(media.type)){this.src=media.src;break}}},setVideoSize:function(width,height){this.width=width,this.height=height}},mejs.PluginMediaElement=function(pluginid,pluginType,mediaUrl){this.id=pluginid,this.pluginType=pluginType,this.src=mediaUrl,this.events={},this.attributes={}},mejs.PluginMediaElement.prototype={pluginElement:null,pluginType:"",isFullScreen:!1,playbackRate:-1,defaultPlaybackRate:-1,seekable:[],played:[],paused:!0,ended:!1,seeking:!1,duration:0,error:null,tagName:"",muted:!1,volume:1,currentTime:0,play:function(){null!=this.pluginApi&&("youtube"==this.pluginType?this.pluginApi.playVideo():this.pluginApi.playMedia(),this.paused=!1)},load:function(){null!=this.pluginApi&&("youtube"==this.pluginType||this.pluginApi.loadMedia(),this.paused=!1)},pause:function(){null!=this.pluginApi&&("youtube"==this.pluginType?this.pluginApi.pauseVideo():this.pluginApi.pauseMedia(),this.paused=!0)},stop:function(){null!=this.pluginApi&&("youtube"==this.pluginType?this.pluginApi.stopVideo():this.pluginApi.stopMedia(),this.paused=!0)},canPlayType:function(type){var i,j,pluginInfo,pluginVersions=mejs.plugins[this.pluginType];for(i=0;i<pluginVersions.length;i++)if(pluginInfo=pluginVersions[i],mejs.PluginDetector.hasPluginVersion(this.pluginType,pluginInfo.version))for(j=0;j<pluginInfo.types.length;j++)if(type==pluginInfo.types[j])return"probably";return""},positionFullscreenButton:function(x,y,visibleAndAbove){null!=this.pluginApi&&this.pluginApi.positionFullscreenButton&&this.pluginApi.positionFullscreenButton(Math.floor(x),Math.floor(y),visibleAndAbove)},hideFullscreenButton:function(){null!=this.pluginApi&&this.pluginApi.hideFullscreenButton&&this.pluginApi.hideFullscreenButton()},setSrc:function(url){if("string"==typeof url)this.pluginApi.setSrc(mejs.Utility.absolutizeUrl(url)),this.src=mejs.Utility.absolutizeUrl(url);else{var i,media;for(i=0;i<url.length;i++)if(media=url[i],this.canPlayType(media.type)){this.pluginApi.setSrc(mejs.Utility.absolutizeUrl(media.src)),this.src=mejs.Utility.absolutizeUrl(url);break}}},setCurrentTime:function(time){null!=this.pluginApi&&("youtube"==this.pluginType?this.pluginApi.seekTo(time):this.pluginApi.setCurrentTime(time),this.currentTime=time)},setVolume:function(volume){null!=this.pluginApi&&(this.pluginApi.setVolume("youtube"==this.pluginType?100*volume:volume),this.volume=volume)},setMuted:function(muted){null!=this.pluginApi&&("youtube"==this.pluginType?(muted?this.pluginApi.mute():this.pluginApi.unMute(),this.muted=muted,this.dispatchEvent("volumechange")):this.pluginApi.setMuted(muted),this.muted=muted)},setVideoSize:function(width,height){this.pluginElement.style&&(this.pluginElement.style.width=width+"px",this.pluginElement.style.height=height+"px"),null!=this.pluginApi&&this.pluginApi.setVideoSize&&this.pluginApi.setVideoSize(width,height)},setFullscreen:function(fullscreen){null!=this.pluginApi&&this.pluginApi.setFullscreen&&this.pluginApi.setFullscreen(fullscreen)},enterFullScreen:function(){null!=this.pluginApi&&this.pluginApi.setFullscreen&&this.setFullscreen(!0)},exitFullScreen:function(){null!=this.pluginApi&&this.pluginApi.setFullscreen&&this.setFullscreen(!1)},addEventListener:function(eventName,callback){this.events[eventName]=this.events[eventName]||[],this.events[eventName].push(callback)},removeEventListener:function(eventName,callback){if(!eventName)return this.events={},!0;var callbacks=this.events[eventName];if(!callbacks)return!0;if(!callback)return this.events[eventName]=[],!0;for(i=0;i<callbacks.length;i++)if(callbacks[i]===callback)return this.events[eventName].splice(i,1),!0;return!1},dispatchEvent:function(eventName){var i,args,callbacks=this.events[eventName];if(callbacks)for(args=Array.prototype.slice.call(arguments,1),i=0;i<callbacks.length;i++)callbacks[i].apply(null,args)},hasAttribute:function(name){return name in this.attributes},removeAttribute:function(name){delete this.attributes[name]},getAttribute:function(name){return this.hasAttribute(name)?this.attributes[name]:""},setAttribute:function(name,value){this.attributes[name]=value},remove:function(){mejs.Utility.removeSwf(this.pluginElement.id),mejs.MediaPluginBridge.unregisterPluginElement(this.pluginElement.id)}},mejs.MediaPluginBridge={pluginMediaElements:{},htmlMediaElements:{},registerPluginElement:function(id,pluginMediaElement,htmlMediaElement){this.pluginMediaElements[id]=pluginMediaElement,this.htmlMediaElements[id]=htmlMediaElement},unregisterPluginElement:function(id){delete this.pluginMediaElements[id],delete this.htmlMediaElements[id]},initPlugin:function(id){var pluginMediaElement=this.pluginMediaElements[id],htmlMediaElement=this.htmlMediaElements[id];if(pluginMediaElement){switch(pluginMediaElement.pluginType){case"flash":pluginMediaElement.pluginElement=pluginMediaElement.pluginApi=document.getElementById(id);break;case"silverlight":pluginMediaElement.pluginElement=document.getElementById(pluginMediaElement.id),pluginMediaElement.pluginApi=pluginMediaElement.pluginElement.Content.MediaElementJS}null!=pluginMediaElement.pluginApi&&pluginMediaElement.success&&pluginMediaElement.success(pluginMediaElement,htmlMediaElement)}},fireEvent:function(id,eventName,values){var e,i,bufferedTime,pluginMediaElement=this.pluginMediaElements[id];if(pluginMediaElement){e={type:eventName,target:pluginMediaElement};for(i in values)pluginMediaElement[i]=values[i],e[i]=values[i];bufferedTime=values.bufferedTime||0,e.target.buffered=e.buffered={start:function(){return 0},end:function(){return bufferedTime},length:1},pluginMediaElement.dispatchEvent(e.type,e)}}},mejs.MediaElementDefaults={mode:"auto",plugins:["flash","silverlight","youtube","vimeo"],enablePluginDebug:!1,httpsBasicAuthSite:!1,type:"",pluginPath:mejs.Utility.getScriptPath(["mediaelement.js","mediaelement.min.js","mediaelement-and-player.js","mediaelement-and-player.min.js"]),flashName:"flashmediaelement.swf",flashStreamer:"",enablePluginSmoothing:!1,enablePseudoStreaming:!1,pseudoStreamingStartQueryParam:"start",silverlightName:"silverlightmediaelement.xap",defaultVideoWidth:480,defaultVideoHeight:270,pluginWidth:-1,pluginHeight:-1,pluginVars:[],timerRate:250,startVolume:.8,success:function(){},error:function(){}},mejs.MediaElement=function(el,o){return mejs.HtmlMediaElementShim.create(el,o)},mejs.HtmlMediaElementShim={create:function(el,o){var playback,prop,options=mejs.MediaElementDefaults,htmlMediaElement="string"==typeof el?document.getElementById(el):el,tagName=htmlMediaElement.tagName.toLowerCase(),isMediaTag="audio"===tagName||"video"===tagName,src=htmlMediaElement.getAttribute(isMediaTag?"src":"href"),poster=htmlMediaElement.getAttribute("poster"),autoplay=htmlMediaElement.getAttribute("autoplay"),preload=htmlMediaElement.getAttribute("preload"),controls=htmlMediaElement.getAttribute("controls");for(prop in o)options[prop]=o[prop];return src="undefined"==typeof src||null===src||""==src?null:src,poster="undefined"==typeof poster||null===poster?"":poster,preload="undefined"==typeof preload||null===preload||"false"===preload?"none":preload,autoplay=!("undefined"==typeof autoplay||null===autoplay||"false"===autoplay),controls=!("undefined"==typeof controls||null===controls||"false"===controls),playback=this.determinePlayback(htmlMediaElement,options,mejs.MediaFeatures.supportsMediaTag,isMediaTag,src),playback.url=null!==playback.url?mejs.Utility.absolutizeUrl(playback.url):"","native"==playback.method?(mejs.MediaFeatures.isBustedAndroid&&(htmlMediaElement.src=playback.url,htmlMediaElement.addEventListener("click",function(){htmlMediaElement.play()},!1)),this.updateNative(playback,options,autoplay,preload)):""!==playback.method?this.createPlugin(playback,options,poster,autoplay,preload,controls):(this.createErrorMessage(playback,options,poster),this)},determinePlayback:function(htmlMediaElement,options,supportsMediaTag,isMediaTag,src){var i,j,k,l,n,type,pluginName,pluginVersions,pluginInfo,dummy,media,mediaFiles=[],result={method:"",url:"",htmlMediaElement:htmlMediaElement,isVideo:"audio"!=htmlMediaElement.tagName.toLowerCase()};if("undefined"!=typeof options.type&&""!==options.type)if("string"==typeof options.type)mediaFiles.push({type:options.type,url:src});else for(i=0;i<options.type.length;i++)mediaFiles.push({type:options.type[i],url:src});else if(null!==src)type=this.formatType(src,htmlMediaElement.getAttribute("type")),mediaFiles.push({type:type,url:src});else for(i=0;i<htmlMediaElement.childNodes.length;i++)n=htmlMediaElement.childNodes[i],1==n.nodeType&&"source"==n.tagName.toLowerCase()&&(src=n.getAttribute("src"),type=this.formatType(src,n.getAttribute("type")),media=n.getAttribute("media"),(!media||!window.matchMedia||window.matchMedia&&window.matchMedia(media).matches)&&mediaFiles.push({type:type,url:src}));if(!isMediaTag&&mediaFiles.length>0&&null!==mediaFiles[0].url&&this.getTypeFromFile(mediaFiles[0].url).indexOf("audio")>-1&&(result.isVideo=!1),mejs.MediaFeatures.isBustedAndroid&&(htmlMediaElement.canPlayType=function(type){return null!==type.match(/video\/(mp4|m4v)/gi)?"maybe":""}),!(!supportsMediaTag||"auto"!==options.mode&&"auto_plugin"!==options.mode&&"native"!==options.mode||mejs.MediaFeatures.isBustedNativeHTTPS&&options.httpsBasicAuthSite===!0)){for(isMediaTag||(dummy=document.createElement(result.isVideo?"video":"audio"),htmlMediaElement.parentNode.insertBefore(dummy,htmlMediaElement),htmlMediaElement.style.display="none",result.htmlMediaElement=htmlMediaElement=dummy),i=0;i<mediaFiles.length;i++)if(""!==htmlMediaElement.canPlayType(mediaFiles[i].type).replace(/no/,"")||""!==htmlMediaElement.canPlayType(mediaFiles[i].type.replace(/mp3/,"mpeg")).replace(/no/,"")){result.method="native",result.url=mediaFiles[i].url;break}if("native"===result.method&&(null!==result.url&&(htmlMediaElement.src=result.url),"auto_plugin"!==options.mode))return result}if("auto"===options.mode||"auto_plugin"===options.mode||"shim"===options.mode)for(i=0;i<mediaFiles.length;i++)for(type=mediaFiles[i].type,j=0;j<options.plugins.length;j++)for(pluginName=options.plugins[j],pluginVersions=mejs.plugins[pluginName],k=0;k<pluginVersions.length;k++)if(pluginInfo=pluginVersions[k],null==pluginInfo.version||mejs.PluginDetector.hasPluginVersion(pluginName,pluginInfo.version))for(l=0;l<pluginInfo.types.length;l++)if(type==pluginInfo.types[l])return result.method=pluginName,result.url=mediaFiles[i].url,result;return"auto_plugin"===options.mode&&"native"===result.method?result:(""===result.method&&mediaFiles.length>0&&(result.url=mediaFiles[0].url),result)},formatType:function(url,type){return url&&!type?this.getTypeFromFile(url):type&&~type.indexOf(";")?type.substr(0,type.indexOf(";")):type},getTypeFromFile:function(url){url=url.split("?")[0];var ext=url.substring(url.lastIndexOf(".")+1).toLowerCase();return(/(mp4|m4v|ogg|ogv|webm|webmv|flv|wmv|mpeg|mov)/gi.test(ext)?"video":"audio")+"/"+this.getTypeFromExtension(ext)},getTypeFromExtension:function(ext){switch(ext){case"mp4":case"m4v":return"mp4";case"webm":case"webma":case"webmv":return"webm";case"ogg":case"oga":case"ogv":return"ogg";default:return ext}},createErrorMessage:function(playback,options,poster){var htmlMediaElement=playback.htmlMediaElement,errorContainer=document.createElement("div");errorContainer.className="me-cannotplay";try{errorContainer.style.width=htmlMediaElement.width+"px",errorContainer.style.height=htmlMediaElement.height+"px"}catch(e){}errorContainer.innerHTML=options.customError?options.customError:""!==poster?'<a href="'+playback.url+'"><img src="'+poster+'" width="100%" height="100%" /></a>':'<a href="'+playback.url+'"><span>'+mejs.i18n.t("Download File")+"</span></a>",htmlMediaElement.parentNode.insertBefore(errorContainer,htmlMediaElement),htmlMediaElement.style.display="none",options.error(htmlMediaElement)},createPlugin:function(playback,options,poster,autoplay,preload,controls){var specialIEContainer,node,initVars,htmlMediaElement=playback.htmlMediaElement,width=1,height=1,pluginid="me_"+playback.method+"_"+mejs.meIndex++,pluginMediaElement=new mejs.PluginMediaElement(pluginid,playback.method,playback.url),container=document.createElement("div");pluginMediaElement.tagName=htmlMediaElement.tagName;for(var i=0;i<htmlMediaElement.attributes.length;i++){var attribute=htmlMediaElement.attributes[i];1==attribute.specified&&pluginMediaElement.setAttribute(attribute.name,attribute.value)}for(node=htmlMediaElement.parentNode;null!==node&&"body"!=node.tagName.toLowerCase();){if("p"==node.parentNode.tagName.toLowerCase()){node.parentNode.parentNode.insertBefore(node,node.parentNode);break}node=node.parentNode}switch(playback.isVideo?(width=options.pluginWidth>0?options.pluginWidth:options.videoWidth>0?options.videoWidth:null!==htmlMediaElement.getAttribute("width")?htmlMediaElement.getAttribute("width"):options.defaultVideoWidth,height=options.pluginHeight>0?options.pluginHeight:options.videoHeight>0?options.videoHeight:null!==htmlMediaElement.getAttribute("height")?htmlMediaElement.getAttribute("height"):options.defaultVideoHeight,width=mejs.Utility.encodeUrl(width),height=mejs.Utility.encodeUrl(height)):options.enablePluginDebug&&(width=320,height=240),pluginMediaElement.success=options.success,mejs.MediaPluginBridge.registerPluginElement(pluginid,pluginMediaElement,htmlMediaElement),container.className="me-plugin",container.id=pluginid+"_container",playback.isVideo?htmlMediaElement.parentNode.insertBefore(container,htmlMediaElement):document.body.insertBefore(container,document.body.childNodes[0]),initVars=["id="+pluginid,"isvideo="+(playback.isVideo?"true":"false"),"autoplay="+(autoplay?"true":"false"),"preload="+preload,"width="+width,"startvolume="+options.startVolume,"timerrate="+options.timerRate,"flashstreamer="+options.flashStreamer,"height="+height,"pseudostreamstart="+options.pseudoStreamingStartQueryParam],null!==playback.url&&initVars.push("flash"==playback.method?"file="+mejs.Utility.encodeUrl(playback.url):"file="+playback.url),options.enablePluginDebug&&initVars.push("debug=true"),options.enablePluginSmoothing&&initVars.push("smoothing=true"),options.enablePseudoStreaming&&initVars.push("pseudostreaming=true"),controls&&initVars.push("controls=true"),options.pluginVars&&(initVars=initVars.concat(options.pluginVars)),playback.method){case"silverlight":container.innerHTML='<object data="data:application/x-silverlight-2," type="application/x-silverlight-2" id="'+pluginid+'" name="'+pluginid+'" width="'+width+'" height="'+height+'" class="mejs-shim"><param name="initParams" value="'+initVars.join(",")+'" /><param name="windowless" value="true" /><param name="background" value="black" /><param name="minRuntimeVersion" value="3.0.0.0" /><param name="autoUpgrade" value="true" /><param name="source" value="'+options.pluginPath+options.silverlightName+'" /></object>';break;case"flash":mejs.MediaFeatures.isIE?(specialIEContainer=document.createElement("div"),container.appendChild(specialIEContainer),specialIEContainer.outerHTML='<object classid="clsid:D27CDB6E-AE6D-11cf-96B8-444553540000" codebase="//download.macromedia.com/pub/shockwave/cabs/flash/swflash.cab" id="'+pluginid+'" width="'+width+'" height="'+height+'" class="mejs-shim"><param name="movie" value="'+options.pluginPath+options.flashName+"?x="+new Date+'" /><param name="flashvars" value="'+initVars.join("&amp;")+'" /><param name="quality" value="high" /><param name="bgcolor" value="#000000" /><param name="wmode" value="transparent" /><param name="allowScriptAccess" value="always" /><param name="allowFullScreen" value="true" /><param name="scale" value="default" /></object>'):container.innerHTML='<embed id="'+pluginid+'" name="'+pluginid+'" play="true" loop="false" quality="high" bgcolor="#000000" wmode="transparent" allowScriptAccess="always" allowFullScreen="true" type="application/x-shockwave-flash" pluginspage="//www.macromedia.com/go/getflashplayer" src="'+options.pluginPath+options.flashName+'" flashvars="'+initVars.join("&")+'" width="'+width+'" height="'+height+'" scale="default"class="mejs-shim"></embed>';break;case"youtube":var videoId=playback.url.substr(playback.url.lastIndexOf("=")+1);youtubeSettings={container:container,containerId:container.id,pluginMediaElement:pluginMediaElement,pluginId:pluginid,videoId:videoId,height:height,width:width},mejs.PluginDetector.hasPluginVersion("flash",[10,0,0])?mejs.YouTubeApi.createFlash(youtubeSettings):mejs.YouTubeApi.enqueueIframe(youtubeSettings);break;case"vimeo":pluginMediaElement.vimeoid=playback.url.substr(playback.url.lastIndexOf("/")+1),container.innerHTML='<iframe src="http://player.vimeo.com/video/'+pluginMediaElement.vimeoid+'?portrait=0&byline=0&title=0" width="'+width+'" height="'+height+'" frameborder="0" class="mejs-shim"></iframe>'}return htmlMediaElement.style.display="none",htmlMediaElement.removeAttribute("autoplay"),pluginMediaElement},updateNative:function(playback,options){var m,htmlMediaElement=playback.htmlMediaElement;for(m in mejs.HtmlMediaElement)htmlMediaElement[m]=mejs.HtmlMediaElement[m];return options.success(htmlMediaElement,htmlMediaElement),htmlMediaElement}},mejs.YouTubeApi={isIframeStarted:!1,isIframeLoaded:!1,loadIframeApi:function(){if(!this.isIframeStarted){var tag=document.createElement("script");tag.src="//www.youtube.com/player_api";var firstScriptTag=document.getElementsByTagName("script")[0];firstScriptTag.parentNode.insertBefore(tag,firstScriptTag),this.isIframeStarted=!0}},iframeQueue:[],enqueueIframe:function(yt){this.isLoaded?this.createIframe(yt):(this.loadIframeApi(),this.iframeQueue.push(yt))},createIframe:function(settings){var pluginMediaElement=settings.pluginMediaElement,player=new YT.Player(settings.containerId,{height:settings.height,width:settings.width,videoId:settings.videoId,playerVars:{controls:0},events:{onReady:function(){settings.pluginMediaElement.pluginApi=player,mejs.MediaPluginBridge.initPlugin(settings.pluginId),setInterval(function(){mejs.YouTubeApi.createEvent(player,pluginMediaElement,"timeupdate")},250)},onStateChange:function(e){mejs.YouTubeApi.handleStateChange(e.data,player,pluginMediaElement)}}})},createEvent:function(player,pluginMediaElement,eventName){var obj={type:eventName,target:pluginMediaElement};if(player&&player.getDuration){pluginMediaElement.currentTime=obj.currentTime=player.getCurrentTime(),pluginMediaElement.duration=obj.duration=player.getDuration(),obj.paused=pluginMediaElement.paused,obj.ended=pluginMediaElement.ended,obj.muted=player.isMuted(),obj.volume=player.getVolume()/100,obj.bytesTotal=player.getVideoBytesTotal(),obj.bufferedBytes=player.getVideoBytesLoaded();var bufferedTime=obj.bufferedBytes/obj.bytesTotal*obj.duration;obj.target.buffered=obj.buffered={start:function(){return 0},end:function(){return bufferedTime},length:1}}pluginMediaElement.dispatchEvent(obj.type,obj)},iFrameReady:function(){for(this.isLoaded=!0,this.isIframeLoaded=!0;this.iframeQueue.length>0;){var settings=this.iframeQueue.pop();this.createIframe(settings)}},flashPlayers:{},createFlash:function(settings){this.flashPlayers[settings.pluginId]=settings;var specialIEContainer,youtubeUrl="//www.youtube.com/apiplayer?enablejsapi=1&amp;playerapiid="+settings.pluginId+"&amp;version=3&amp;autoplay=0&amp;controls=0&amp;modestbranding=1&loop=0";mejs.MediaFeatures.isIE?(specialIEContainer=document.createElement("div"),settings.container.appendChild(specialIEContainer),specialIEContainer.outerHTML='<object classid="clsid:D27CDB6E-AE6D-11cf-96B8-444553540000" codebase="//download.macromedia.com/pub/shockwave/cabs/flash/swflash.cab" id="'+settings.pluginId+'" width="'+settings.width+'" height="'+settings.height+'" class="mejs-shim"><param name="movie" value="'+youtubeUrl+'" /><param name="wmode" value="transparent" /><param name="allowScriptAccess" value="always" /><param name="allowFullScreen" value="true" /></object>'):settings.container.innerHTML='<object type="application/x-shockwave-flash" id="'+settings.pluginId+'" data="'+youtubeUrl+'" width="'+settings.width+'" height="'+settings.height+'" style="visibility: visible; " class="mejs-shim"><param name="allowScriptAccess" value="always"><param name="wmode" value="transparent"></object>'},flashReady:function(id){var settings=this.flashPlayers[id],player=document.getElementById(id),pluginMediaElement=settings.pluginMediaElement;pluginMediaElement.pluginApi=pluginMediaElement.pluginElement=player,mejs.MediaPluginBridge.initPlugin(id),player.cueVideoById(settings.videoId);var callbackName=settings.containerId+"_callback";window[callbackName]=function(e){mejs.YouTubeApi.handleStateChange(e,player,pluginMediaElement)},player.addEventListener("onStateChange",callbackName),setInterval(function(){mejs.YouTubeApi.createEvent(player,pluginMediaElement,"timeupdate")},250)},handleStateChange:function(youTubeState,player,pluginMediaElement){switch(youTubeState){case-1:pluginMediaElement.paused=!0,pluginMediaElement.ended=!0,mejs.YouTubeApi.createEvent(player,pluginMediaElement,"loadedmetadata");break;case 0:pluginMediaElement.paused=!1,pluginMediaElement.ended=!0,mejs.YouTubeApi.createEvent(player,pluginMediaElement,"ended");break;case 1:pluginMediaElement.paused=!1,pluginMediaElement.ended=!1,mejs.YouTubeApi.createEvent(player,pluginMediaElement,"play"),mejs.YouTubeApi.createEvent(player,pluginMediaElement,"playing");break;case 2:pluginMediaElement.paused=!0,pluginMediaElement.ended=!1,mejs.YouTubeApi.createEvent(player,pluginMediaElement,"pause");break;case 3:mejs.YouTubeApi.createEvent(player,pluginMediaElement,"progress");break;case 5:}}},window.mejs=mejs,window.MediaElement=mejs.MediaElement,function(context,exports){"use strict";var i18n={locale:{language:"",strings:{}},methods:{}};i18n.getLanguage=function(){var language=i18n.locale.language||window.navigator.userLanguage||window.navigator.language;return language.substr(0,2).toLowerCase()},"undefined"!=typeof mejsL10n&&(i18n.locale.language=mejsL10n.language),i18n.methods.checkPlain=function(str){var character,regex,replace={"&":"&amp;",'"':"&quot;","<":"&lt;",">":"&gt;"};str=String(str);for(character in replace)replace.hasOwnProperty(character)&&(regex=new RegExp(character,"g"),str=str.replace(regex,replace[character]));return str},i18n.methods.t=function(str,options){return i18n.locale.strings&&i18n.locale.strings[options.context]&&i18n.locale.strings[options.context][str]&&(str=i18n.locale.strings[options.context][str]),i18n.methods.checkPlain(str)},i18n.t=function(str,options){if("string"==typeof str&&str.length>0){var language=i18n.getLanguage();return options=options||{context:language},i18n.methods.t(str,options)}throw{name:"InvalidArgumentException",message:"First argument is either not a string or empty."}},exports.i18n=i18n}(document,mejs),function(exports){"use strict";"undefined"!=typeof mejsL10n&&(exports[mejsL10n.language]=mejsL10n.strings)}(mejs.i18n.locale.strings),function(exports){"use strict";"undefined"==typeof exports.de&&(exports.de={Fullscreen:"Vollbild","Go Fullscreen":"Vollbild an","Turn off Fullscreen":"Vollbild aus",Close:"Schließen"})}(mejs.i18n.locale.strings),function(exports){"use strict";"undefined"==typeof exports.zh&&(exports.zh={Fullscreen:"全螢幕","Go Fullscreen":"全屏模式","Turn off Fullscreen":"退出全屏模式",Close:"關閉"})}(mejs.i18n.locale.strings),"undefined"!=typeof jQuery?mejs.$=jQuery:"undefined"!=typeof ender&&(mejs.$=ender),function($){mejs.MepDefaults={poster:"",showPosterWhenEnded:!1,defaultVideoWidth:480,defaultVideoHeight:270,videoWidth:-1,videoHeight:-1,defaultAudioWidth:400,defaultAudioHeight:30,defaultSeekBackwardInterval:function(media){return.05*media.duration
},defaultSeekForwardInterval:function(media){return.05*media.duration},audioWidth:-1,audioHeight:-1,startVolume:.8,loop:!1,autoRewind:!0,enableAutosize:!0,alwaysShowHours:!1,showTimecodeFrameCount:!1,framesPerSecond:25,autosizeProgress:!0,alwaysShowControls:!1,hideVideoControlsOnLoad:!1,clickToPlayPause:!0,iPadUseNativeControls:!1,iPhoneUseNativeControls:!1,AndroidUseNativeControls:!1,features:["playpause","current","progress","duration","tracks","volume","fullscreen"],isVideo:!0,enableKeyboard:!0,pauseOtherPlayers:!0,keyActions:[{keys:[32,179],action:function(player,media){media.paused||media.ended?player.play():player.pause()}},{keys:[38],action:function(player,media){var newVolume=Math.min(media.volume+.1,1);media.setVolume(newVolume)}},{keys:[40],action:function(player,media){var newVolume=Math.max(media.volume-.1,0);media.setVolume(newVolume)}},{keys:[37,227],action:function(player,media){if(!isNaN(media.duration)&&media.duration>0){player.isVideo&&(player.showControls(),player.startControlsTimer());var newTime=Math.max(media.currentTime-player.options.defaultSeekBackwardInterval(media),0);media.setCurrentTime(newTime)}}},{keys:[39,228],action:function(player,media){if(!isNaN(media.duration)&&media.duration>0){player.isVideo&&(player.showControls(),player.startControlsTimer());var newTime=Math.min(media.currentTime+player.options.defaultSeekForwardInterval(media),media.duration);media.setCurrentTime(newTime)}}},{keys:[70],action:function(player){"undefined"!=typeof player.enterFullScreen&&(player.isFullScreen?player.exitFullScreen():player.enterFullScreen())}}]},mejs.mepIndex=0,mejs.players={},mejs.MediaElementPlayer=function(node,o){if(!(this instanceof mejs.MediaElementPlayer))return new mejs.MediaElementPlayer(node,o);var t=this;return t.$media=t.$node=$(node),t.node=t.media=t.$media[0],"undefined"!=typeof t.node.player?t.node.player:(t.node.player=t,"undefined"==typeof o&&(o=t.$node.data("mejsoptions")),t.options=$.extend({},mejs.MepDefaults,o),t.id="mep_"+mejs.mepIndex++,mejs.players[t.id]=t,t.init(),t)},mejs.MediaElementPlayer.prototype={hasFocus:!1,controlsAreVisible:!0,init:function(){var t=this,mf=mejs.MediaFeatures,meOptions=$.extend(!0,{},t.options,{success:function(media,domNode){t.meReady(media,domNode)},error:function(e){t.handleError(e)}}),tagName=t.media.tagName.toLowerCase();if(t.isDynamic="audio"!==tagName&&"video"!==tagName,t.isVideo=t.isDynamic?t.options.isVideo:"audio"!==tagName&&t.options.isVideo,mf.isiPad&&t.options.iPadUseNativeControls||mf.isiPhone&&t.options.iPhoneUseNativeControls)t.$media.attr("controls","controls"),mf.isiPad&&null!==t.media.getAttribute("autoplay")&&t.play();else if(mf.isAndroid&&t.options.AndroidUseNativeControls);else{if(t.$media.removeAttr("controls"),t.container=$('<div id="'+t.id+'" class="mejs-container '+(mejs.MediaFeatures.svg?"svg":"no-svg")+'"><div class="mejs-inner"><div class="mejs-mediaelement"></div><div class="mejs-layers"></div><div class="mejs-controls"></div><div class="mejs-clear"></div></div></div>').addClass(t.$media[0].className).insertBefore(t.$media),t.container.addClass((mf.isAndroid?"mejs-android ":"")+(mf.isiOS?"mejs-ios ":"")+(mf.isiPad?"mejs-ipad ":"")+(mf.isiPhone?"mejs-iphone ":"")+(t.isVideo?"mejs-video ":"mejs-audio ")),mf.isiOS){var $newMedia=t.$media.clone();t.container.find(".mejs-mediaelement").append($newMedia),t.$media.remove(),t.$node=t.$media=$newMedia,t.node=t.media=$newMedia[0]}else t.container.find(".mejs-mediaelement").append(t.$media);t.controls=t.container.find(".mejs-controls"),t.layers=t.container.find(".mejs-layers");var tagType=t.isVideo?"video":"audio",capsTagName=tagType.substring(0,1).toUpperCase()+tagType.substring(1);t.width=t.options[tagType+"Width"]>0||t.options[tagType+"Width"].toString().indexOf("%")>-1?t.options[tagType+"Width"]:""!==t.media.style.width&&null!==t.media.style.width?t.media.style.width:null!==t.media.getAttribute("width")?t.$media.attr("width"):t.options["default"+capsTagName+"Width"],t.height=t.options[tagType+"Height"]>0||t.options[tagType+"Height"].toString().indexOf("%")>-1?t.options[tagType+"Height"]:""!==t.media.style.height&&null!==t.media.style.height?t.media.style.height:null!==t.$media[0].getAttribute("height")?t.$media.attr("height"):t.options["default"+capsTagName+"Height"],t.setPlayerSize(t.width,t.height),meOptions.pluginWidth=t.width,meOptions.pluginHeight=t.height}mejs.MediaElement(t.$media[0],meOptions),"undefined"!=typeof t.container&&t.controlsAreVisible&&t.container.trigger("controlsshown")},showControls:function(doAnimation){var t=this;doAnimation="undefined"==typeof doAnimation||doAnimation,t.controlsAreVisible||(doAnimation?(t.controls.css("visibility","visible").stop(!0,!0).fadeIn(200,function(){t.controlsAreVisible=!0,t.container.trigger("controlsshown")}),t.container.find(".mejs-control").css("visibility","visible").stop(!0,!0).fadeIn(200,function(){t.controlsAreVisible=!0})):(t.controls.css("visibility","visible").css("display","block"),t.container.find(".mejs-control").css("visibility","visible").css("display","block"),t.controlsAreVisible=!0,t.container.trigger("controlsshown")),t.setControlsSize())},hideControls:function(doAnimation){var t=this;doAnimation="undefined"==typeof doAnimation||doAnimation,t.controlsAreVisible&&!t.options.alwaysShowControls&&(doAnimation?(t.controls.stop(!0,!0).fadeOut(200,function(){$(this).css("visibility","hidden").css("display","block"),t.controlsAreVisible=!1,t.container.trigger("controlshidden")}),t.container.find(".mejs-control").stop(!0,!0).fadeOut(200,function(){$(this).css("visibility","hidden").css("display","block")})):(t.controls.css("visibility","hidden").css("display","block"),t.container.find(".mejs-control").css("visibility","hidden").css("display","block"),t.controlsAreVisible=!1,t.container.trigger("controlshidden")))},controlsTimer:null,startControlsTimer:function(timeout){var t=this;timeout="undefined"!=typeof timeout?timeout:1500,t.killControlsTimer("start"),t.controlsTimer=setTimeout(function(){t.hideControls(),t.killControlsTimer("hide")},timeout)},killControlsTimer:function(){var t=this;null!==t.controlsTimer&&(clearTimeout(t.controlsTimer),delete t.controlsTimer,t.controlsTimer=null)},controlsEnabled:!0,disableControls:function(){var t=this;t.killControlsTimer(),t.hideControls(!1),this.controlsEnabled=!1},enableControls:function(){var t=this;t.showControls(!1),t.controlsEnabled=!0},meReady:function(media,domNode){var featureIndex,feature,t=this,mf=mejs.MediaFeatures,autoplayAttr=domNode.getAttribute("autoplay"),autoplay=!("undefined"==typeof autoplayAttr||null===autoplayAttr||"false"===autoplayAttr);if(!t.created){if(t.created=!0,t.media=media,t.domNode=domNode,!(mf.isAndroid&&t.options.AndroidUseNativeControls||mf.isiPad&&t.options.iPadUseNativeControls||mf.isiPhone&&t.options.iPhoneUseNativeControls)){t.buildposter(t,t.controls,t.layers,t.media),t.buildkeyboard(t,t.controls,t.layers,t.media),t.buildoverlays(t,t.controls,t.layers,t.media),t.findTracks();for(featureIndex in t.options.features)if(feature=t.options.features[featureIndex],t["build"+feature])try{t["build"+feature](t,t.controls,t.layers,t.media)}catch(e){}t.container.trigger("controlsready"),t.setPlayerSize(t.width,t.height),t.setControlsSize(),t.isVideo&&(mejs.MediaFeatures.hasTouch?t.$media.bind("touchstart",function(){t.controlsAreVisible?t.hideControls(!1):t.controlsEnabled&&t.showControls(!1)}):(mejs.MediaElementPlayer.prototype.clickToPlayPauseCallback=function(){t.options.clickToPlayPause&&(t.media.paused?t.play():t.pause())},t.media.addEventListener("click",t.clickToPlayPauseCallback,!1),t.container.bind("mouseenter mouseover",function(){t.controlsEnabled&&(t.options.alwaysShowControls||(t.killControlsTimer("enter"),t.showControls(),t.startControlsTimer(2500)))}).bind("mousemove",function(){t.controlsEnabled&&(t.controlsAreVisible||t.showControls(),t.options.alwaysShowControls||t.startControlsTimer(2500))}).bind("mouseleave",function(){t.controlsEnabled&&(t.media.paused||t.options.alwaysShowControls||t.startControlsTimer(1e3))})),t.options.hideVideoControlsOnLoad&&t.hideControls(!1),autoplay&&!t.options.alwaysShowControls&&t.hideControls(),t.options.enableAutosize&&t.media.addEventListener("loadedmetadata",function(e){t.options.videoHeight<=0&&null===t.domNode.getAttribute("height")&&!isNaN(e.target.videoHeight)&&(t.setPlayerSize(e.target.videoWidth,e.target.videoHeight),t.setControlsSize(),t.media.setVideoSize(e.target.videoWidth,e.target.videoHeight))},!1)),media.addEventListener("play",function(){var playerIndex;for(playerIndex in mejs.players){var p=mejs.players[playerIndex];p.id==t.id||!t.options.pauseOtherPlayers||p.paused||p.ended||p.pause(),p.hasFocus=!1}t.hasFocus=!0},!1),t.media.addEventListener("ended",function(){if(t.options.autoRewind)try{t.media.setCurrentTime(0)}catch(exp){}t.media.pause(),t.setProgressRail&&t.setProgressRail(),t.setCurrentRail&&t.setCurrentRail(),t.options.loop?t.play():!t.options.alwaysShowControls&&t.controlsEnabled&&t.showControls()},!1),t.media.addEventListener("loadedmetadata",function(){t.updateDuration&&t.updateDuration(),t.updateCurrent&&t.updateCurrent(),t.isFullScreen||(t.setPlayerSize(t.width,t.height),t.setControlsSize())},!1),setTimeout(function(){t.setPlayerSize(t.width,t.height),t.setControlsSize()},50),t.globalBind("resize",function(){t.isFullScreen||mejs.MediaFeatures.hasTrueNativeFullScreen&&document.webkitIsFullScreen||t.setPlayerSize(t.width,t.height),t.setControlsSize()}),"youtube"==t.media.pluginType&&t.container.find(".mejs-overlay-play").hide()}autoplay&&"native"==media.pluginType&&t.play(),t.options.success&&("string"==typeof t.options.success?window[t.options.success](t.media,t.domNode,t):t.options.success(t.media,t.domNode,t))}},handleError:function(e){var t=this;t.controls.hide(),t.options.error&&t.options.error(e)},setPlayerSize:function(width,height){var t=this;if("undefined"!=typeof width&&(t.width=width),"undefined"!=typeof height&&(t.height=height),t.height.toString().indexOf("%")>0||"100%"===t.$node.css("max-width")||parseInt(t.$node.css("max-width").replace(/px/,""),10)/t.$node.offsetParent().width()===1||t.$node[0].currentStyle&&"100%"===t.$node[0].currentStyle.maxWidth){var nativeWidth=t.isVideo?t.media.videoWidth&&t.media.videoWidth>0?t.media.videoWidth:t.options.defaultVideoWidth:t.options.defaultAudioWidth,nativeHeight=t.isVideo?t.media.videoHeight&&t.media.videoHeight>0?t.media.videoHeight:t.options.defaultVideoHeight:t.options.defaultAudioHeight,parentWidth=t.container.parent().closest(":visible").width(),newHeight=t.isVideo||!t.options.autosizeProgress?parseInt(parentWidth*nativeHeight/nativeWidth,10):nativeHeight;"body"===t.container.parent()[0].tagName.toLowerCase()&&(parentWidth=$(window).width(),newHeight=$(window).height()),0!=newHeight&&0!=parentWidth&&(t.container.width(parentWidth).height(newHeight),t.$media.add(t.container.find(".mejs-shim")).width("100%").height("100%"),t.isVideo&&t.media.setVideoSize&&t.media.setVideoSize(parentWidth,newHeight),t.layers.children(".mejs-layer").width("100%").height("100%"))}else t.container.width(t.width).height(t.height),t.layers.children(".mejs-layer").width(t.width).height(t.height);var playLayer=t.layers.find(".mejs-overlay-play"),playButton=playLayer.find(".mejs-overlay-button");playLayer.height(t.container.height()-t.controls.height()),playButton.css("margin-top","-"+(playButton.height()/2-t.controls.height()/2).toString()+"px")},setControlsSize:function(){var t=this,usedWidth=0,railWidth=0,rail=t.controls.find(".mejs-time-rail"),total=t.controls.find(".mejs-time-total"),others=(t.controls.find(".mejs-time-current"),t.controls.find(".mejs-time-loaded"),rail.siblings());t.options&&!t.options.autosizeProgress&&(railWidth=parseInt(rail.css("width"))),0!==railWidth&&railWidth||(others.each(function(){var $this=$(this);"absolute"!=$this.css("position")&&$this.is(":visible")&&(usedWidth+=$(this).outerWidth(!0))}),railWidth=t.controls.width()-usedWidth-(rail.outerWidth(!0)-rail.width())),rail.width(railWidth),total.width(railWidth-(total.outerWidth(!0)-total.width())),t.setProgressRail&&t.setProgressRail(),t.setCurrentRail&&t.setCurrentRail()},buildposter:function(player,controls,layers,media){var t=this,poster=$('<div class="mejs-poster mejs-layer"></div>').appendTo(layers),posterUrl=player.$media.attr("poster");""!==player.options.poster&&(posterUrl=player.options.poster),""!==posterUrl&&null!=posterUrl?t.setPoster(posterUrl):poster.hide(),media.addEventListener("play",function(){poster.hide()},!1),player.options.showPosterWhenEnded&&player.options.autoRewind&&media.addEventListener("ended",function(){poster.show()},!1)},setPoster:function(url){var t=this,posterDiv=t.container.find(".mejs-poster"),posterImg=posterDiv.find("img");0==posterImg.length&&(posterImg=$('<img width="100%" height="100%" />').appendTo(posterDiv)),posterImg.attr("src",url),posterDiv.css({"background-image":"url("+url+")"})},buildoverlays:function(player,controls,layers,media){var t=this;if(player.isVideo){var loading=$('<div class="mejs-overlay mejs-layer"><div class="mejs-overlay-loading"><span></span></div></div>').hide().appendTo(layers),error=$('<div class="mejs-overlay mejs-layer"><div class="mejs-overlay-error"></div></div>').hide().appendTo(layers),bigPlay=$('<div class="mejs-overlay mejs-layer mejs-overlay-play"><div class="mejs-overlay-button"></div></div>').appendTo(layers).bind("click touchstart",function(){t.options.clickToPlayPause&&media.paused&&t.play()});media.addEventListener("play",function(){bigPlay.hide(),loading.hide(),controls.find(".mejs-time-buffering").hide(),error.hide()},!1),media.addEventListener("playing",function(){bigPlay.hide(),loading.hide(),controls.find(".mejs-time-buffering").hide(),error.hide()},!1),media.addEventListener("seeking",function(){loading.show(),controls.find(".mejs-time-buffering").show()},!1),media.addEventListener("seeked",function(){loading.hide(),controls.find(".mejs-time-buffering").hide()},!1),media.addEventListener("pause",function(){mejs.MediaFeatures.isiPhone||bigPlay.show()},!1),media.addEventListener("waiting",function(){loading.show(),controls.find(".mejs-time-buffering").show()},!1),media.addEventListener("loadeddata",function(){loading.show(),controls.find(".mejs-time-buffering").show()},!1),media.addEventListener("canplay",function(){loading.hide(),controls.find(".mejs-time-buffering").hide()},!1),media.addEventListener("error",function(){loading.hide(),controls.find(".mejs-time-buffering").hide(),error.show(),error.find("mejs-overlay-error").html("Error loading this resource")},!1)}},buildkeyboard:function(player,controls,layers,media){var t=this;t.globalBind("keydown",function(e){if(player.hasFocus&&player.options.enableKeyboard)for(var i=0,il=player.options.keyActions.length;il>i;i++)for(var keyAction=player.options.keyActions[i],j=0,jl=keyAction.keys.length;jl>j;j++)if(e.keyCode==keyAction.keys[j])return e.preventDefault(),keyAction.action(player,media,e.keyCode),!1;return!0}),t.globalBind("click",function(event){0==$(event.target).closest(".mejs-container").length&&(player.hasFocus=!1)})},findTracks:function(){var t=this,tracktags=t.$media.find("track");t.tracks=[],tracktags.each(function(index,track){track=$(track),t.tracks.push({srclang:track.attr("srclang")?track.attr("srclang").toLowerCase():"",src:track.attr("src"),kind:track.attr("kind"),label:track.attr("label")||"",entries:[],isLoaded:!1})})},changeSkin:function(className){this.container[0].className="mejs-container "+className,this.setPlayerSize(this.width,this.height),this.setControlsSize()},play:function(){this.load(),this.media.play()},pause:function(){try{this.media.pause()}catch(e){}},load:function(){this.isLoaded||this.media.load(),this.isLoaded=!0},setMuted:function(muted){this.media.setMuted(muted)},setCurrentTime:function(time){this.media.setCurrentTime(time)},getCurrentTime:function(){return this.media.currentTime},setVolume:function(volume){this.media.setVolume(volume)},getVolume:function(){return this.media.volume},setSrc:function(src){this.media.setSrc(src)},remove:function(){var featureIndex,feature,t=this;for(featureIndex in t.options.features)if(feature=t.options.features[featureIndex],t["clean"+feature])try{t["clean"+feature](t)}catch(e){}t.isDynamic?t.$node.insertBefore(t.container):(t.$media.prop("controls",!0),t.$node.clone().show().insertBefore(t.container),t.$node.remove()),"native"!==t.media.pluginType&&t.media.remove(),delete mejs.players[t.id],t.container.remove(),t.globalUnbind(),delete t.node.player}},function(){function splitEvents(events,id){var ret={d:[],w:[]};return $.each((events||"").split(" "),function(k,v){var eventname=v+"."+id;0===eventname.indexOf(".")?(ret.d.push(eventname),ret.w.push(eventname)):ret[rwindow.test(v)?"w":"d"].push(eventname)}),ret.d=ret.d.join(" "),ret.w=ret.w.join(" "),ret}var rwindow=/^((after|before)print|(before)?unload|hashchange|message|o(ff|n)line|page(hide|show)|popstate|resize|storage)\b/;mejs.MediaElementPlayer.prototype.globalBind=function(events,data,callback){var t=this;events=splitEvents(events,t.id),events.d&&$(document).bind(events.d,data,callback),events.w&&$(window).bind(events.w,data,callback)},mejs.MediaElementPlayer.prototype.globalUnbind=function(events,callback){var t=this;events=splitEvents(events,t.id),events.d&&$(document).unbind(events.d,callback),events.w&&$(window).unbind(events.w,callback)}}(),"undefined"!=typeof jQuery&&(jQuery.fn.mediaelementplayer=function(options){return this.each(options===!1?function(){var player=jQuery(this).data("mediaelementplayer");player&&player.remove(),jQuery(this).removeData("mediaelementplayer")}:function(){jQuery(this).data("mediaelementplayer",new mejs.MediaElementPlayer(this,options))}),this}),$(document).ready(function(){$(".mejs-player").mediaelementplayer()}),window.MediaElementPlayer=mejs.MediaElementPlayer}(mejs.$),function($){$.extend(mejs.MepDefaults,{playpauseText:mejs.i18n.t("Play/Pause")}),$.extend(MediaElementPlayer.prototype,{buildplaypause:function(player,controls,layers,media){var t=this,play=$('<div class="mejs-button mejs-playpause-button mejs-play" ><button type="button" aria-controls="'+t.id+'" title="'+t.options.playpauseText+'" aria-label="'+t.options.playpauseText+'"></button></div>').appendTo(controls).click(function(e){return e.preventDefault(),media.paused?media.play():media.pause(),!1});media.addEventListener("play",function(){play.removeClass("mejs-play").addClass("mejs-pause")},!1),media.addEventListener("playing",function(){play.removeClass("mejs-play").addClass("mejs-pause")},!1),media.addEventListener("pause",function(){play.removeClass("mejs-pause").addClass("mejs-play")},!1),media.addEventListener("paused",function(){play.removeClass("mejs-pause").addClass("mejs-play")},!1)}})}(mejs.$),function($){$.extend(mejs.MepDefaults,{stopText:"Stop"}),$.extend(MediaElementPlayer.prototype,{buildstop:function(player,controls,layers,media){{var t=this;$('<div class="mejs-button mejs-stop-button mejs-stop"><button type="button" aria-controls="'+t.id+'" title="'+t.options.stopText+'" aria-label="'+t.options.stopText+'"></button></div>').appendTo(controls).click(function(){media.paused||media.pause(),media.currentTime>0&&(media.setCurrentTime(0),media.pause(),controls.find(".mejs-time-current").width("0px"),controls.find(".mejs-time-handle").css("left","0px"),controls.find(".mejs-time-float-current").html(mejs.Utility.secondsToTimeCode(0)),controls.find(".mejs-currenttime").html(mejs.Utility.secondsToTimeCode(0)),layers.find(".mejs-poster").show())})}}})}(mejs.$),function($){$.extend(MediaElementPlayer.prototype,{buildprogress:function(player,controls,layers,media){$('<div class="mejs-time-rail"><span class="mejs-time-total"><span class="mejs-time-buffering"></span><span class="mejs-time-loaded"></span><span class="mejs-time-current"></span><span class="mejs-time-handle"></span><span class="mejs-time-float"><span class="mejs-time-float-current">00:00</span><span class="mejs-time-float-corner"></span></span></span></div>').appendTo(controls),controls.find(".mejs-time-buffering").hide();var t=this,total=controls.find(".mejs-time-total"),loaded=controls.find(".mejs-time-loaded"),current=controls.find(".mejs-time-current"),handle=controls.find(".mejs-time-handle"),timefloat=controls.find(".mejs-time-float"),timefloatcurrent=controls.find(".mejs-time-float-current"),handleMouseMove=function(e){var x=e.pageX,offset=total.offset(),width=total.outerWidth(!0),percentage=0,newTime=0,pos=0;media.duration&&(x<offset.left?x=offset.left:x>width+offset.left&&(x=width+offset.left),pos=x-offset.left,percentage=pos/width,newTime=.02>=percentage?0:percentage*media.duration,mouseIsDown&&newTime!==media.currentTime&&media.setCurrentTime(newTime),mejs.MediaFeatures.hasTouch||(timefloat.css("left",pos),timefloatcurrent.html(mejs.Utility.secondsToTimeCode(newTime)),timefloat.show()))},mouseIsDown=!1,mouseIsOver=!1;total.bind("mousedown",function(e){return 1===e.which?(mouseIsDown=!0,handleMouseMove(e),t.globalBind("mousemove.dur",function(e){handleMouseMove(e)}),t.globalBind("mouseup.dur",function(){mouseIsDown=!1,timefloat.hide(),t.globalUnbind(".dur")}),!1):void 0}).bind("mouseenter",function(){mouseIsOver=!0,t.globalBind("mousemove.dur",function(e){handleMouseMove(e)}),mejs.MediaFeatures.hasTouch||timefloat.show()}).bind("mouseleave",function(){mouseIsOver=!1,mouseIsDown||(t.globalUnbind(".dur"),timefloat.hide())}),media.addEventListener("progress",function(e){player.setProgressRail(e),player.setCurrentRail(e)},!1),media.addEventListener("timeupdate",function(e){player.setProgressRail(e),player.setCurrentRail(e)},!1),t.loaded=loaded,t.total=total,t.current=current,t.handle=handle},setProgressRail:function(e){var t=this,target=void 0!=e?e.target:t.media,percent=null;target&&target.buffered&&target.buffered.length>0&&target.buffered.end&&target.duration?percent=target.buffered.end(0)/target.duration:target&&void 0!=target.bytesTotal&&target.bytesTotal>0&&void 0!=target.bufferedBytes?percent=target.bufferedBytes/target.bytesTotal:e&&e.lengthComputable&&0!=e.total&&(percent=e.loaded/e.total),null!==percent&&(percent=Math.min(1,Math.max(0,percent)),t.loaded&&t.total&&t.loaded.width(t.total.width()*percent))},setCurrentRail:function(){var t=this;if(void 0!=t.media.currentTime&&t.media.duration&&t.total&&t.handle){var newWidth=Math.round(t.total.width()*t.media.currentTime/t.media.duration),handlePos=newWidth-Math.round(t.handle.outerWidth(!0)/2);t.current.width(newWidth),t.handle.css("left",handlePos)}}})}(mejs.$),function($){$.extend(mejs.MepDefaults,{duration:-1,timeAndDurationSeparator:"<span> | </span>"}),$.extend(MediaElementPlayer.prototype,{buildcurrent:function(player,controls,layers,media){var t=this;$('<div class="mejs-time"><span class="mejs-currenttime">'+(player.options.alwaysShowHours?"00:":"")+(player.options.showTimecodeFrameCount?"00:00:00":"00:00")+"</span></div>").appendTo(controls),t.currenttime=t.controls.find(".mejs-currenttime"),media.addEventListener("timeupdate",function(){player.updateCurrent()},!1)},buildduration:function(player,controls,layers,media){var t=this;controls.children().last().find(".mejs-currenttime").length>0?$(t.options.timeAndDurationSeparator+'<span class="mejs-duration">'+(t.options.duration>0?mejs.Utility.secondsToTimeCode(t.options.duration,t.options.alwaysShowHours||t.media.duration>3600,t.options.showTimecodeFrameCount,t.options.framesPerSecond||25):(player.options.alwaysShowHours?"00:":"")+(player.options.showTimecodeFrameCount?"00:00:00":"00:00"))+"</span>").appendTo(controls.find(".mejs-time")):(controls.find(".mejs-currenttime").parent().addClass("mejs-currenttime-container"),$('<div class="mejs-time mejs-duration-container"><span class="mejs-duration">'+(t.options.duration>0?mejs.Utility.secondsToTimeCode(t.options.duration,t.options.alwaysShowHours||t.media.duration>3600,t.options.showTimecodeFrameCount,t.options.framesPerSecond||25):(player.options.alwaysShowHours?"00:":"")+(player.options.showTimecodeFrameCount?"00:00:00":"00:00"))+"</span></div>").appendTo(controls)),t.durationD=t.controls.find(".mejs-duration"),media.addEventListener("timeupdate",function(){player.updateDuration()},!1)},updateCurrent:function(){var t=this;t.currenttime&&t.currenttime.html(mejs.Utility.secondsToTimeCode(t.media.currentTime,t.options.alwaysShowHours||t.media.duration>3600,t.options.showTimecodeFrameCount,t.options.framesPerSecond||25))},updateDuration:function(){var t=this;t.container.toggleClass("mejs-long-video",t.media.duration>3600),t.durationD&&(t.options.duration>0||t.media.duration)&&t.durationD.html(mejs.Utility.secondsToTimeCode(t.options.duration>0?t.options.duration:t.media.duration,t.options.alwaysShowHours,t.options.showTimecodeFrameCount,t.options.framesPerSecond||25))}})}(mejs.$),function($){$.extend(mejs.MepDefaults,{muteText:mejs.i18n.t("Mute Toggle"),hideVolumeOnTouchDevices:!0,audioVolume:"horizontal",videoVolume:"vertical"}),$.extend(MediaElementPlayer.prototype,{buildvolume:function(player,controls,layers,media){if(!mejs.MediaFeatures.hasTouch||!this.options.hideVolumeOnTouchDevices){var t=this,mode=t.isVideo?t.options.videoVolume:t.options.audioVolume,mute="horizontal"==mode?$('<div class="mejs-button mejs-volume-button mejs-mute"><button type="button" aria-controls="'+t.id+'" title="'+t.options.muteText+'" aria-label="'+t.options.muteText+'"></button></div><div class="mejs-horizontal-volume-slider"><div class="mejs-horizontal-volume-total"></div><div class="mejs-horizontal-volume-current"></div><div class="mejs-horizontal-volume-handle"></div></div>').appendTo(controls):$('<div class="mejs-button mejs-volume-button mejs-mute"><button type="button" aria-controls="'+t.id+'" title="'+t.options.muteText+'" aria-label="'+t.options.muteText+'"></button><div class="mejs-volume-slider"><div class="mejs-volume-total"></div><div class="mejs-volume-current"></div><div class="mejs-volume-handle"></div></div></div>').appendTo(controls),volumeSlider=t.container.find(".mejs-volume-slider, .mejs-horizontal-volume-slider"),volumeTotal=t.container.find(".mejs-volume-total, .mejs-horizontal-volume-total"),volumeCurrent=t.container.find(".mejs-volume-current, .mejs-horizontal-volume-current"),volumeHandle=t.container.find(".mejs-volume-handle, .mejs-horizontal-volume-handle"),positionVolumeHandle=function(volume,secondTry){if(!volumeSlider.is(":visible")&&"undefined"==typeof secondTry)return volumeSlider.show(),positionVolumeHandle(volume,!0),void volumeSlider.hide();if(volume=Math.max(0,volume),volume=Math.min(volume,1),0==volume?mute.removeClass("mejs-mute").addClass("mejs-unmute"):mute.removeClass("mejs-unmute").addClass("mejs-mute"),"vertical"==mode){var totalHeight=volumeTotal.height(),totalPosition=volumeTotal.position(),newTop=totalHeight-totalHeight*volume;volumeHandle.css("top",Math.round(totalPosition.top+newTop-volumeHandle.height()/2)),volumeCurrent.height(totalHeight-newTop),volumeCurrent.css("top",totalPosition.top+newTop)}else{var totalWidth=volumeTotal.width(),totalPosition=volumeTotal.position(),newLeft=totalWidth*volume;volumeHandle.css("left",Math.round(totalPosition.left+newLeft-volumeHandle.width()/2)),volumeCurrent.width(Math.round(newLeft))}},handleVolumeMove=function(e){var volume=null,totalOffset=volumeTotal.offset();if("vertical"==mode){var railHeight=volumeTotal.height(),newY=(parseInt(volumeTotal.css("top").replace(/px/,""),10),e.pageY-totalOffset.top);if(volume=(railHeight-newY)/railHeight,0==totalOffset.top||0==totalOffset.left)return}else{var railWidth=volumeTotal.width(),newX=e.pageX-totalOffset.left;volume=newX/railWidth}volume=Math.max(0,volume),volume=Math.min(volume,1),positionVolumeHandle(volume),media.setMuted(0==volume?!0:!1),media.setVolume(volume)},mouseIsDown=!1,mouseIsOver=!1;mute.hover(function(){volumeSlider.show(),mouseIsOver=!0},function(){mouseIsOver=!1,mouseIsDown||"vertical"!=mode||volumeSlider.hide()}),volumeSlider.bind("mouseover",function(){mouseIsOver=!0}).bind("mousedown",function(e){return handleVolumeMove(e),t.globalBind("mousemove.vol",function(e){handleVolumeMove(e)}),t.globalBind("mouseup.vol",function(){mouseIsDown=!1,t.globalUnbind(".vol"),mouseIsOver||"vertical"!=mode||volumeSlider.hide()}),mouseIsDown=!0,!1}),mute.find("button").click(function(){media.setMuted(!media.muted)}),media.addEventListener("volumechange",function(){mouseIsDown||(media.muted?(positionVolumeHandle(0),mute.removeClass("mejs-mute").addClass("mejs-unmute")):(positionVolumeHandle(media.volume),mute.removeClass("mejs-unmute").addClass("mejs-mute")))},!1),t.container.is(":visible")&&(positionVolumeHandle(player.options.startVolume),0===player.options.startVolume&&media.setMuted(!0),"native"===media.pluginType&&media.setVolume(player.options.startVolume))}}})}(mejs.$),function($){$.extend(mejs.MepDefaults,{usePluginFullScreen:!0,newWindowCallback:function(){return""},fullscreenText:mejs.i18n.t("Fullscreen")}),$.extend(MediaElementPlayer.prototype,{isFullScreen:!1,isNativeFullScreen:!1,isInIframe:!1,buildfullscreen:function(player,controls,layers,media){if(player.isVideo){if(player.isInIframe=window.location!=window.parent.location,mejs.MediaFeatures.hasTrueNativeFullScreen){var func=function(){player.isFullScreen&&(mejs.MediaFeatures.isFullScreen()?(player.isNativeFullScreen=!0,player.setControlsSize()):(player.isNativeFullScreen=!1,player.exitFullScreen()))};mejs.MediaFeatures.hasMozNativeFullScreen?player.globalBind(mejs.MediaFeatures.fullScreenEventName,func):player.container.bind(mejs.MediaFeatures.fullScreenEventName,func)}var t=this,fullscreenBtn=(player.container,$('<div class="mejs-button mejs-fullscreen-button"><button type="button" aria-controls="'+t.id+'" title="'+t.options.fullscreenText+'" aria-label="'+t.options.fullscreenText+'"></button></div>').appendTo(controls));if("native"===t.media.pluginType||!t.options.usePluginFullScreen&&!mejs.MediaFeatures.isFirefox)fullscreenBtn.click(function(){var isFullScreen=mejs.MediaFeatures.hasTrueNativeFullScreen&&mejs.MediaFeatures.isFullScreen()||player.isFullScreen;isFullScreen?player.exitFullScreen():player.enterFullScreen()});else{var hideTimeout=null,supportsPointerEvents=function(){var supports,element=document.createElement("x"),documentElement=document.documentElement,getComputedStyle=window.getComputedStyle;return"pointerEvents"in element.style?(element.style.pointerEvents="auto",element.style.pointerEvents="x",documentElement.appendChild(element),supports=getComputedStyle&&"auto"===getComputedStyle(element,"").pointerEvents,documentElement.removeChild(element),!!supports):!1}();if(supportsPointerEvents&&!mejs.MediaFeatures.isOpera){var i,len,fullscreenIsDisabled=!1,restoreControls=function(){if(fullscreenIsDisabled){for(var i in hoverDivs)hoverDivs[i].hide();fullscreenBtn.css("pointer-events",""),t.controls.css("pointer-events",""),t.media.removeEventListener("click",t.clickToPlayPauseCallback),fullscreenIsDisabled=!1}},hoverDivs={},hoverDivNames=["top","left","right","bottom"],positionHoverDivs=function(){var fullScreenBtnOffsetLeft=fullscreenBtn.offset().left-t.container.offset().left,fullScreenBtnOffsetTop=fullscreenBtn.offset().top-t.container.offset().top,fullScreenBtnWidth=fullscreenBtn.outerWidth(!0),fullScreenBtnHeight=fullscreenBtn.outerHeight(!0),containerWidth=t.container.width(),containerHeight=t.container.height();for(i in hoverDivs)hoverDivs[i].css({position:"absolute",top:0,left:0});hoverDivs.top.width(containerWidth).height(fullScreenBtnOffsetTop),hoverDivs.left.width(fullScreenBtnOffsetLeft).height(fullScreenBtnHeight).css({top:fullScreenBtnOffsetTop}),hoverDivs.right.width(containerWidth-fullScreenBtnOffsetLeft-fullScreenBtnWidth).height(fullScreenBtnHeight).css({top:fullScreenBtnOffsetTop,left:fullScreenBtnOffsetLeft+fullScreenBtnWidth}),hoverDivs.bottom.width(containerWidth).height(containerHeight-fullScreenBtnHeight-fullScreenBtnOffsetTop).css({top:fullScreenBtnOffsetTop+fullScreenBtnHeight})};for(t.globalBind("resize",function(){positionHoverDivs()
}),i=0,len=hoverDivNames.length;len>i;i++)hoverDivs[hoverDivNames[i]]=$('<div class="mejs-fullscreen-hover" />').appendTo(t.container).mouseover(restoreControls).hide();fullscreenBtn.on("mouseover",function(){if(!t.isFullScreen){var buttonPos=fullscreenBtn.offset(),containerPos=player.container.offset();media.positionFullscreenButton(buttonPos.left-containerPos.left,buttonPos.top-containerPos.top,!1),fullscreenBtn.css("pointer-events","none"),t.controls.css("pointer-events","none"),t.media.addEventListener("click",t.clickToPlayPauseCallback);for(i in hoverDivs)hoverDivs[i].show();positionHoverDivs(),fullscreenIsDisabled=!0}}),media.addEventListener("fullscreenchange",function(){t.isFullScreen=!t.isFullScreen,t.isFullScreen?t.media.removeEventListener("click",t.clickToPlayPauseCallback):t.media.addEventListener("click",t.clickToPlayPauseCallback),restoreControls()}),t.globalBind("mousemove",function(e){if(fullscreenIsDisabled){var fullscreenBtnPos=fullscreenBtn.offset();(e.pageY<fullscreenBtnPos.top||e.pageY>fullscreenBtnPos.top+fullscreenBtn.outerHeight(!0)||e.pageX<fullscreenBtnPos.left||e.pageX>fullscreenBtnPos.left+fullscreenBtn.outerWidth(!0))&&(fullscreenBtn.css("pointer-events",""),t.controls.css("pointer-events",""),fullscreenIsDisabled=!1)}})}else fullscreenBtn.on("mouseover",function(){null!==hideTimeout&&(clearTimeout(hideTimeout),delete hideTimeout);var buttonPos=fullscreenBtn.offset(),containerPos=player.container.offset();media.positionFullscreenButton(buttonPos.left-containerPos.left,buttonPos.top-containerPos.top,!0)}).on("mouseout",function(){null!==hideTimeout&&(clearTimeout(hideTimeout),delete hideTimeout),hideTimeout=setTimeout(function(){media.hideFullscreenButton()},1500)})}player.fullscreenBtn=fullscreenBtn,t.globalBind("keydown",function(e){(mejs.MediaFeatures.hasTrueNativeFullScreen&&mejs.MediaFeatures.isFullScreen()||t.isFullScreen)&&27==e.keyCode&&player.exitFullScreen()})}},cleanfullscreen:function(player){player.exitFullScreen()},containerSizeTimeout:null,enterFullScreen:function(){var t=this;if("native"===t.media.pluginType||!mejs.MediaFeatures.isFirefox&&!t.options.usePluginFullScreen){if($(document.documentElement).addClass("mejs-fullscreen"),normalHeight=t.container.height(),normalWidth=t.container.width(),"native"===t.media.pluginType)if(mejs.MediaFeatures.hasTrueNativeFullScreen)mejs.MediaFeatures.requestFullScreen(t.container[0]),t.isInIframe&&setTimeout(function checkFullscreen(){t.isNativeFullScreen&&($(window).width()!==screen.width?t.exitFullScreen():setTimeout(checkFullscreen,500))},500);else if(mejs.MediaFeatures.hasSemiNativeFullScreen)return void t.media.webkitEnterFullscreen();if(t.isInIframe){var url=t.options.newWindowCallback(this);if(""!==url){if(!mejs.MediaFeatures.hasTrueNativeFullScreen)return t.pause(),void window.open(url,t.id,"top=0,left=0,width="+screen.availWidth+",height="+screen.availHeight+",resizable=yes,scrollbars=no,status=no,toolbar=no");setTimeout(function(){t.isNativeFullScreen||(t.pause(),window.open(url,t.id,"top=0,left=0,width="+screen.availWidth+",height="+screen.availHeight+",resizable=yes,scrollbars=no,status=no,toolbar=no"))},250)}}t.container.addClass("mejs-container-fullscreen").width("100%").height("100%"),t.containerSizeTimeout=setTimeout(function(){t.container.css({width:"100%",height:"100%"}),t.setControlsSize()},500),"native"===t.media.pluginType?t.$media.width("100%").height("100%"):(t.container.find(".mejs-shim").width("100%").height("100%"),t.media.setVideoSize($(window).width(),$(window).height())),t.layers.children("div").width("100%").height("100%"),t.fullscreenBtn&&t.fullscreenBtn.removeClass("mejs-fullscreen").addClass("mejs-unfullscreen"),t.setControlsSize(),t.isFullScreen=!0}},exitFullScreen:function(){var t=this;return clearTimeout(t.containerSizeTimeout),"native"!==t.media.pluginType&&mejs.MediaFeatures.isFirefox?void t.media.setFullscreen(!1):(mejs.MediaFeatures.hasTrueNativeFullScreen&&(mejs.MediaFeatures.isFullScreen()||t.isFullScreen)&&mejs.MediaFeatures.cancelFullScreen(),$(document.documentElement).removeClass("mejs-fullscreen"),t.container.removeClass("mejs-container-fullscreen").width(normalWidth).height(normalHeight),"native"===t.media.pluginType?t.$media.width(normalWidth).height(normalHeight):(t.container.find(".mejs-shim").width(normalWidth).height(normalHeight),t.media.setVideoSize(normalWidth,normalHeight)),t.layers.children("div").width(normalWidth).height(normalHeight),t.fullscreenBtn.removeClass("mejs-unfullscreen").addClass("mejs-fullscreen"),t.setControlsSize(),void(t.isFullScreen=!1))}})}(mejs.$),function($){$.extend(mejs.MepDefaults,{startLanguage:"",tracksText:mejs.i18n.t("Captions/Subtitles"),hideCaptionsButtonWhenEmpty:!0,toggleCaptionsButtonWhenOnlyOne:!1,slidesSelector:""}),$.extend(MediaElementPlayer.prototype,{hasChapters:!1,buildtracks:function(player,controls,layers,media){if(0!=player.tracks.length){var i,t=this;if(t.domNode.textTracks)for(var i=t.domNode.textTracks.length-1;i>=0;i--)t.domNode.textTracks[i].mode="hidden";player.chapters=$('<div class="mejs-chapters mejs-layer"></div>').prependTo(layers).hide(),player.captions=$('<div class="mejs-captions-layer mejs-layer"><div class="mejs-captions-position mejs-captions-position-hover"><span class="mejs-captions-text"></span></div></div>').prependTo(layers).hide(),player.captionsText=player.captions.find(".mejs-captions-text"),player.captionsButton=$('<div class="mejs-button mejs-captions-button"><button type="button" aria-controls="'+t.id+'" title="'+t.options.tracksText+'" aria-label="'+t.options.tracksText+'"></button><div class="mejs-captions-selector"><ul><li><input type="radio" name="'+player.id+'_captions" id="'+player.id+'_captions_none" value="none" checked="checked" /><label for="'+player.id+'_captions_none">'+mejs.i18n.t("None")+"</label></li></ul></div></div>").appendTo(controls);var subtitleCount=0;for(i=0;i<player.tracks.length;i++)"subtitles"==player.tracks[i].kind&&subtitleCount++;for(t.options.toggleCaptionsButtonWhenOnlyOne&&1==subtitleCount?player.captionsButton.on("click",function(){if(null==player.selectedTrack)var lang=player.tracks[0].srclang;else var lang="none";player.setTrack(lang)}):player.captionsButton.hover(function(){$(this).find(".mejs-captions-selector").css("visibility","visible")},function(){$(this).find(".mejs-captions-selector").css("visibility","hidden")}).on("click","input[type=radio]",function(){lang=this.value,player.setTrack(lang)}),player.options.alwaysShowControls?player.container.find(".mejs-captions-position").addClass("mejs-captions-position-hover"):player.container.bind("controlsshown",function(){player.container.find(".mejs-captions-position").addClass("mejs-captions-position-hover")}).bind("controlshidden",function(){media.paused||player.container.find(".mejs-captions-position").removeClass("mejs-captions-position-hover")}),player.trackToLoad=-1,player.selectedTrack=null,player.isLoadingTrack=!1,i=0;i<player.tracks.length;i++)"subtitles"==player.tracks[i].kind&&player.addTrackButton(player.tracks[i].srclang,player.tracks[i].label);player.loadNextTrack(),media.addEventListener("timeupdate",function(){player.displayCaptions()},!1),""!=player.options.slidesSelector&&(player.slidesContainer=$(player.options.slidesSelector),media.addEventListener("timeupdate",function(){player.displaySlides()},!1)),media.addEventListener("loadedmetadata",function(){player.displayChapters()},!1),player.container.hover(function(){player.hasChapters&&(player.chapters.css("visibility","visible"),player.chapters.fadeIn(200).height(player.chapters.find(".mejs-chapter").outerHeight()))},function(){player.hasChapters&&!media.paused&&player.chapters.fadeOut(200,function(){$(this).css("visibility","hidden"),$(this).css("display","block")})}),null!==player.node.getAttribute("autoplay")&&player.chapters.css("visibility","hidden")}},setTrack:function(lang){var i,t=this;if("none"==lang)t.selectedTrack=null,t.captionsButton.removeClass("mejs-captions-enabled");else for(i=0;i<t.tracks.length;i++)if(t.tracks[i].srclang==lang){null==t.selectedTrack&&t.captionsButton.addClass("mejs-captions-enabled"),t.selectedTrack=t.tracks[i],t.captions.attr("lang",t.selectedTrack.srclang),t.displayCaptions();break}},loadNextTrack:function(){var t=this;t.trackToLoad++,t.trackToLoad<t.tracks.length?(t.isLoadingTrack=!0,t.loadTrack(t.trackToLoad)):(t.isLoadingTrack=!1,t.checkForTracks())},loadTrack:function(index){var t=this,track=t.tracks[index],after=function(){track.isLoaded=!0,t.enableTrackButton(track.srclang,track.label),t.loadNextTrack()};$.ajax({url:track.src,dataType:"text",success:function(d){track.entries="string"==typeof d&&/<tt\s+xml/gi.exec(d)?mejs.TrackFormatParser.dfxp.parse(d):mejs.TrackFormatParser.webvvt.parse(d),after(),"chapters"==track.kind&&t.media.addEventListener("play",function(){t.media.duration>0&&t.displayChapters(track)},!1),"slides"==track.kind&&t.setupSlides(track)},error:function(){t.loadNextTrack()}})},enableTrackButton:function(lang,label){var t=this;""===label&&(label=mejs.language.codes[lang]||lang),t.captionsButton.find("input[value="+lang+"]").prop("disabled",!1).siblings("label").html(label),t.options.startLanguage==lang&&$("#"+t.id+"_captions_"+lang).click(),t.adjustLanguageBox()},addTrackButton:function(lang,label){var t=this;""===label&&(label=mejs.language.codes[lang]||lang),t.captionsButton.find("ul").append($('<li><input type="radio" name="'+t.id+'_captions" id="'+t.id+"_captions_"+lang+'" value="'+lang+'" disabled="disabled" /><label for="'+t.id+"_captions_"+lang+'">'+label+" (loading)</label></li>")),t.adjustLanguageBox(),t.container.find(".mejs-captions-translations option[value="+lang+"]").remove()},adjustLanguageBox:function(){var t=this;t.captionsButton.find(".mejs-captions-selector").height(t.captionsButton.find(".mejs-captions-selector ul").outerHeight(!0)+t.captionsButton.find(".mejs-captions-translations").outerHeight(!0))},checkForTracks:function(){var t=this,hasSubtitles=!1;if(t.options.hideCaptionsButtonWhenEmpty){for(i=0;i<t.tracks.length;i++)if("subtitles"==t.tracks[i].kind){hasSubtitles=!0;break}hasSubtitles||(t.captionsButton.hide(),t.setControlsSize())}},displayCaptions:function(){if("undefined"!=typeof this.tracks){var i,t=this,track=t.selectedTrack;if(null!=track&&track.isLoaded){for(i=0;i<track.entries.times.length;i++)if(t.media.currentTime>=track.entries.times[i].start&&t.media.currentTime<=track.entries.times[i].stop)return t.captionsText.html(track.entries.text[i]),void t.captions.show().height(0);t.captions.hide()}else t.captions.hide()}},setupSlides:function(track){var t=this;t.slides=track,t.slides.entries.imgs=[t.slides.entries.text.length],t.showSlide(0)},showSlide:function(index){if("undefined"!=typeof this.tracks&&"undefined"!=typeof this.slidesContainer){var t=this,url=t.slides.entries.text[index],img=t.slides.entries.imgs[index];"undefined"==typeof img||"undefined"==typeof img.fadeIn?t.slides.entries.imgs[index]=img=$('<img src="'+url+'">').on("load",function(){img.appendTo(t.slidesContainer).hide().fadeIn().siblings(":visible").fadeOut()}):img.is(":visible")||img.is(":animated")||img.fadeIn().siblings(":visible").fadeOut()}},displaySlides:function(){if("undefined"!=typeof this.slides){var i,t=this,slides=t.slides;for(i=0;i<slides.entries.times.length;i++)if(t.media.currentTime>=slides.entries.times[i].start&&t.media.currentTime<=slides.entries.times[i].stop)return void t.showSlide(i)}},displayChapters:function(){var i,t=this;for(i=0;i<t.tracks.length;i++)if("chapters"==t.tracks[i].kind&&t.tracks[i].isLoaded){t.drawChapters(t.tracks[i]),t.hasChapters=!0;break}},drawChapters:function(chapters){var i,dur,t=this,percent=0,usedPercent=0;for(t.chapters.empty(),i=0;i<chapters.entries.times.length;i++)dur=chapters.entries.times[i].stop-chapters.entries.times[i].start,percent=Math.floor(dur/t.media.duration*100),(percent+usedPercent>100||i==chapters.entries.times.length-1&&100>percent+usedPercent)&&(percent=100-usedPercent),t.chapters.append($('<div class="mejs-chapter" rel="'+chapters.entries.times[i].start+'" style="left: '+usedPercent.toString()+"%;width: "+percent.toString()+'%;"><div class="mejs-chapter-block'+(i==chapters.entries.times.length-1?" mejs-chapter-block-last":"")+'"><span class="ch-title">'+chapters.entries.text[i]+'</span><span class="ch-time">'+mejs.Utility.secondsToTimeCode(chapters.entries.times[i].start)+"&ndash;"+mejs.Utility.secondsToTimeCode(chapters.entries.times[i].stop)+"</span></div></div>")),usedPercent+=percent;t.chapters.find("div.mejs-chapter").click(function(){t.media.setCurrentTime(parseFloat($(this).attr("rel"))),t.media.paused&&t.media.play()}),t.chapters.show()}}),mejs.language={codes:{af:"Afrikaans",sq:"Albanian",ar:"Arabic",be:"Belarusian",bg:"Bulgarian",ca:"Catalan",zh:"Chinese","zh-cn":"Chinese Simplified","zh-tw":"Chinese Traditional",hr:"Croatian",cs:"Czech",da:"Danish",nl:"Dutch",en:"English",et:"Estonian",tl:"Filipino",fi:"Finnish",fr:"French",gl:"Galician",de:"German",el:"Greek",ht:"Haitian Creole",iw:"Hebrew",hi:"Hindi",hu:"Hungarian",is:"Icelandic",id:"Indonesian",ga:"Irish",it:"Italian",ja:"Japanese",ko:"Korean",lv:"Latvian",lt:"Lithuanian",mk:"Macedonian",ms:"Malay",mt:"Maltese",no:"Norwegian",fa:"Persian",pl:"Polish",pt:"Portuguese",ro:"Romanian",ru:"Russian",sr:"Serbian",sk:"Slovak",sl:"Slovenian",es:"Spanish",sw:"Swahili",sv:"Swedish",tl:"Tagalog",th:"Thai",tr:"Turkish",uk:"Ukrainian",vi:"Vietnamese",cy:"Welsh",yi:"Yiddish"}},mejs.TrackFormatParser={webvvt:{pattern_identifier:/^([a-zA-z]+-)?[0-9]+$/,pattern_timecode:/^([0-9]{2}:[0-9]{2}:[0-9]{2}([,.][0-9]{1,3})?) --\> ([0-9]{2}:[0-9]{2}:[0-9]{2}([,.][0-9]{3})?)(.*)$/,parse:function(trackText){for(var timecode,text,i=0,lines=mejs.TrackFormatParser.split2(trackText,/\r?\n/),entries={text:[],times:[]};i<lines.length;i++)if(this.pattern_identifier.exec(lines[i])&&(i++,timecode=this.pattern_timecode.exec(lines[i]),timecode&&i<lines.length)){for(i++,text=lines[i],i++;""!==lines[i]&&i<lines.length;)text=text+"\n"+lines[i],i++;text=$.trim(text).replace(/(\b(https?|ftp|file):\/\/[-A-Z0-9+&@#\/%?=~_|!:,.;]*[-A-Z0-9+&@#\/%=~_|])/gi,"<a href='$1' target='_blank'>$1</a>"),entries.text.push(text),entries.times.push({start:0==mejs.Utility.convertSMPTEtoSeconds(timecode[1])?.2:mejs.Utility.convertSMPTEtoSeconds(timecode[1]),stop:mejs.Utility.convertSMPTEtoSeconds(timecode[3]),settings:timecode[5]})}return entries}},dfxp:{parse:function(trackText){trackText=$(trackText).filter("tt");var styles,text,i=0,container=trackText.children("div").eq(0),lines=container.find("p"),styleNode=trackText.find("#"+container.attr("style")),entries={text:[],times:[]};if(styleNode.length){var attributes=styleNode.removeAttr("id").get(0).attributes;if(attributes.length)for(styles={},i=0;i<attributes.length;i++)styles[attributes[i].name.split(":")[1]]=attributes[i].value}for(i=0;i<lines.length;i++){var style,_temp_times={start:null,stop:null,style:null};if(lines.eq(i).attr("begin")&&(_temp_times.start=mejs.Utility.convertSMPTEtoSeconds(lines.eq(i).attr("begin"))),!_temp_times.start&&lines.eq(i-1).attr("end")&&(_temp_times.start=mejs.Utility.convertSMPTEtoSeconds(lines.eq(i-1).attr("end"))),lines.eq(i).attr("end")&&(_temp_times.stop=mejs.Utility.convertSMPTEtoSeconds(lines.eq(i).attr("end"))),!_temp_times.stop&&lines.eq(i+1).attr("begin")&&(_temp_times.stop=mejs.Utility.convertSMPTEtoSeconds(lines.eq(i+1).attr("begin"))),styles){style="";for(var _style in styles)style+=_style+":"+styles[_style]+";"}style&&(_temp_times.style=style),0==_temp_times.start&&(_temp_times.start=.2),entries.times.push(_temp_times),text=$.trim(lines.eq(i).html()).replace(/(\b(https?|ftp|file):\/\/[-A-Z0-9+&@#\/%?=~_|!:,.;]*[-A-Z0-9+&@#\/%=~_|])/gi,"<a href='$1' target='_blank'>$1</a>"),entries.text.push(text),0==entries.times.start&&(entries.times.start=2)}return entries}},split2:function(text,regex){return text.split(regex)}},3!="x\n\ny".split(/\n/gi).length&&(mejs.TrackFormatParser.split2=function(text,regex){var i,parts=[],chunk="";for(i=0;i<text.length;i++)chunk+=text.substring(i,i+1),regex.test(chunk)&&(parts.push(chunk.replace(regex,"")),chunk="");return parts.push(chunk),parts})}(mejs.$),function($){$.extend(mejs.MepDefaults,{contextMenuItems:[{render:function(player){return"undefined"==typeof player.enterFullScreen?null:mejs.i18n.t(player.isFullScreen?"Turn off Fullscreen":"Go Fullscreen")},click:function(player){player.isFullScreen?player.exitFullScreen():player.enterFullScreen()}},{render:function(player){return mejs.i18n.t(player.media.muted?"Unmute":"Mute")},click:function(player){player.setMuted(player.media.muted?!1:!0)}},{isSeparator:!0},{render:function(){return mejs.i18n.t("Download Video")},click:function(player){window.location.href=player.media.currentSrc}}]}),$.extend(MediaElementPlayer.prototype,{buildcontextmenu:function(player){player.contextMenu=$('<div class="mejs-contextmenu"></div>').appendTo($("body")).hide(),player.container.bind("contextmenu",function(e){return player.isContextMenuEnabled?(e.preventDefault(),player.renderContextMenu(e.clientX-1,e.clientY-1),!1):void 0}),player.container.bind("click",function(){player.contextMenu.hide()}),player.contextMenu.bind("mouseleave",function(){player.startContextMenuTimer()})},cleancontextmenu:function(player){player.contextMenu.remove()},isContextMenuEnabled:!0,enableContextMenu:function(){this.isContextMenuEnabled=!0},disableContextMenu:function(){this.isContextMenuEnabled=!1},contextMenuTimeout:null,startContextMenuTimer:function(){var t=this;t.killContextMenuTimer(),t.contextMenuTimer=setTimeout(function(){t.hideContextMenu(),t.killContextMenuTimer()},750)},killContextMenuTimer:function(){var timer=this.contextMenuTimer;null!=timer&&(clearTimeout(timer),delete timer,timer=null)},hideContextMenu:function(){this.contextMenu.hide()},renderContextMenu:function(x,y){for(var t=this,html="",items=t.options.contextMenuItems,i=0,il=items.length;il>i;i++)if(items[i].isSeparator)html+='<div class="mejs-contextmenu-separator"></div>';else{var rendered=items[i].render(t);null!=rendered&&(html+='<div class="mejs-contextmenu-item" data-itemindex="'+i+'" id="element-'+1e6*Math.random()+'">'+rendered+"</div>")}t.contextMenu.empty().append($(html)).css({top:y,left:x}).show(),t.contextMenu.find(".mejs-contextmenu-item").each(function(){var $dom=$(this),itemIndex=parseInt($dom.data("itemindex"),10),item=t.options.contextMenuItems[itemIndex];"undefined"!=typeof item.show&&item.show($dom,t),$dom.click(function(){"undefined"!=typeof item.click&&item.click(t),t.contextMenu.hide()})}),setTimeout(function(){t.killControlsTimer("rev3")},100)}})}(mejs.$),function($){$.extend(mejs.MepDefaults,{postrollCloseText:mejs.i18n.t("Close")}),$.extend(MediaElementPlayer.prototype,{buildpostroll:function(player,controls,layers){var t=this,postrollLink=t.container.find('link[rel="postroll"]').attr("href");"undefined"!=typeof postrollLink&&(player.postroll=$('<div class="mejs-postroll-layer mejs-layer"><a class="mejs-postroll-close" onclick="$(this).parent().hide();return false;">'+t.options.postrollCloseText+'</a><div class="mejs-postroll-layer-content"></div></div>').prependTo(layers).hide(),t.media.addEventListener("ended",function(){$.ajax({dataType:"html",url:postrollLink,success:function(data){layers.find(".mejs-postroll-layer-content").html(data)}}),player.postroll.show()},!1))}})}(mejs.$);